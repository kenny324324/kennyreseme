<svg width="800" height="300" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="800" height="300" fill="#f9f9f9" stroke="#e0e0e0" stroke-width="1"/>
  
  <!-- 標題 -->
  <text x="400" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">跳蛙公車 2.0 技術架構圖</text>
  
  <!-- 使用者層 -->
  <rect x="50" y="60" width="100" height="60" rx="8" fill="#ff8c42" stroke="#e67332" stroke-width="2"/>
  <text x="100" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">iOS 使用者</text>
  <text x="100" y="100" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">iPhone/iPad</text>
  
  <rect x="50" y="140" width="100" height="60" rx="8" fill="#ff8c42" stroke="#e67332" stroke-width="2"/>
  <text x="100" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Android 使用者</text>
  <text x="100" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">手機/平板</text>
  
  <!-- APP 層 -->
  <rect x="220" y="100" width="120" height="80" rx="8" fill="#4a90e2" stroke="#357abd" stroke-width="2"/>
  <text x="280" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">跳蛙公車 APP</text>
  <text x="280" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">.NET MAUI</text>
  <text x="280" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">跨平台框架</text>
  
  <!-- 後端 API -->
  <rect x="410" y="100" width="120" height="80" rx="8" fill="#50c878" stroke="#3ea060" stroke-width="2"/>
  <text x="470" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">後端 API</text>
  <text x="470" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">資料服務</text>
  <text x="470" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">業務邏輯處理</text>
  
  <!-- 第三方服務 -->
  <rect x="600" y="60" width="100" height="50" rx="6" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
  <text x="650" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Firebase</text>
  <text x="650" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">推播通知</text>
  
  <rect x="600" y="125" width="100" height="50" rx="6" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
  <text x="650" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Google Maps</text>
  <text x="650" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">地圖服務</text>
  
  <rect x="600" y="190" width="100" height="50" rx="6" fill="#f39c12" stroke="#e67e22" stroke-width="2"/>
  <text x="650" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">資料庫</text>
  <text x="650" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">資料儲存</text>
  
  <!-- 連接線 -->
  <!-- 使用者到APP -->
  <line x1="150" y1="90" x2="220" y2="130" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="150" y1="170" x2="220" y2="150" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- APP到後端 -->
  <line x1="340" y1="140" x2="410" y2="140" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- 後端到第三方服務 -->
  <line x1="530" y1="120" x2="600" y2="85" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="530" y1="140" x2="600" y2="150" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="530" y1="160" x2="600" y2="215" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Firebase到APP直接連線（推播） -->
  <line x1="600" y1="85" x2="340" y2="120" stroke="#9b59b6" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead-purple)"/>
  <text x="470" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#9b59b6">推播通知</text>
  
  <!-- 箭頭標記 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <marker id="arrowhead-purple" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#9b59b6"/>
    </marker>
  </defs>
  
  <!-- 說明文字 -->
  <text x="50" y="280" font-family="Arial, sans-serif" font-size="10" fill="#666">資料流向：使用者操作 → APP → 後端 API → 第三方服務</text>
  <text x="450" y="280" font-family="Arial, sans-serif" font-size="10" fill="#9b59b6">虛線：Firebase 推播通知到 APP</text>
</svg>
