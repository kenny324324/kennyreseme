<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>專案詳細資訊 - 余亮廷 Kenny Yu</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <!-- 進場淡入遮罩（你的 JS 會用到） -->
  <div class="page-fade-in-overlay"></div>

  <!-- Navigation（原樣保留） -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-logo" style="margin-left: -20px;">
        <a href="#" class="back-btn" id="backBtn" style="display: flex; align-items: center; gap: 8px; color: #333; text-decoration: none; font-weight: 500; background: #f8f9fa; padding: 8px 16px; border-radius: 15px; transition: all 0.3s ease; margin: 0;">
          <i class="fas fa-arrow-left"></i>
          <span>返回首頁</span>
        </a>
      </div>
      <div class="nav-logo" style="margin-left: auto;">
        <span class="logo-text" id="projectTitle">專案詳細資訊</span>
      </div>
    </div>
  </nav>

  <!-- 作品集詳細內容（骨架版，吃你現有 CSS） -->
  <section class="project-details">
    <div class="container">



      <!-- 主視覺 + 簡介 + 技術堆疊 + 專案背景 -->
      <div class="project-content">
        <div class="project-image-section">
          <div class="project-image">
            <img id="projectDetailImage" src="documents/profolio source/Bus/detailcover.png" alt="專案詳細圖片" class="project-detail-image">
          </div>
        </div>

        <div class="project-info">
          <!-- 一句話電梯簡介 -->
          <div class="project-description" id="projectDescription">
            載入中...
          </div>

          <!-- 技術標籤 -->
          <div class="project-tech-stack">
            <div class="tech-tags">
              <span class="tech-tag">.NET MAUI</span>
              <span class="tech-tag">Figma</span>
              <span class="tech-tag">Firebase</span>
              <span class="tech-tag">SwiftUI</span>
            </div>
          </div>

          <!-- 專案背景 -->
          <div class="project-features">
            <h3 class="category-title">專案背景</h3>
            <ul class="features-list">
              <li><strong>目標：</strong>（尚未填寫）</li>
              <li><strong>使用者/場景：</strong>（尚未填寫）</li>
              <li><strong>我的角色與貢獻：</strong>（尚未填寫）</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 規劃與流程（設計 / 開發） -->
      <div class="project-content">
        <div class="project-info">
          <h3 class="category-title">規劃與流程｜設計（Figma）</h3>
          <ul class="features-list">
            <li>需求 → Wireframe → Prototype（Figma 連結可放此處）</li>
            <li>我主導的決策（2–3 點）：（尚未填寫）</li>
          </ul>
        </div>
        <div class="project-info">
          <h3 class="category-title">規劃與流程｜開發（技術）</h3>
          <ul class="features-list">
            <li>主要技術與架構重點：（尚未填寫）</li>
            <li>我負責的模組：（尚未填寫）</li>
          </ul>
        </div>
      </div>

      <!-- 挑戰與解決（#1 / #2） -->
      <div class="project-content">
        <div class="project-info">
          <h3 class="category-title">挑戰與解決 #1</h3>
          <ul class="features-list">
            <li><strong>情境：</strong>（尚未填寫）</li>
            <li><strong>困難點：</strong>（尚未填寫）</li>
            <li><strong>作法：</strong>（尚未填寫）</li>
            <li><strong>結果（定性）：</strong>（尚未填寫）</li>
          </ul>
        </div>
        <div class="project-info">
          <h3 class="category-title">挑戰與解決 #2</h3>
          <ul class="features-list">
            <li><strong>情境：</strong>（尚未填寫）</li>
            <li><strong>困難點：</strong>（尚未填寫）</li>
            <li><strong>作法：</strong>（尚未填寫）</li>
            <li><strong>結果（定性）：</strong>（尚未填寫）</li>
          </ul>
        </div>
      </div>

      <!-- 設計 / 技術亮點 -->
      <div class="project-content">
        <div class="project-info">
          <h3 class="category-title">設計亮點</h3>
          <ul class="features-list">
            <li>色彩層級 / 空狀態 / 微互動…（尚未填寫）</li>
            <li>可用性細節（錯誤處理、回饋）…（尚未填寫）</li>
          </ul>
        </div>
        <div class="project-info">
          <h3 class="category-title">技術亮點</h3>
          <ul class="features-list">
            <li>跨平台差異抽象與元件化（尚未填寫）</li>
            <li>資料綁定 / 快取策略 / 錯誤處理（尚未填寫）</li>
          </ul>
        </div>
      </div>

      <!-- 反思與收穫 / 下一步 -->
      <div class="project-content">
        <div class="project-info">
          <h3 class="category-title">反思與收穫</h3>
          <ul class="features-list">
            <li>（尚未填寫）</li>
          </ul>
        </div>
        <div class="project-info">
          <h3 class="category-title">下一步</h3>
          <ul class="features-list">
            <li>優先改善 / 待驗證假設（尚未填寫）</li>
          </ul>
        </div>
      </div>

    </div>

    <!-- 連結 -->
    <div class="project-links">
      <a href="#" class="btn btn-outline"><i class="fab fa-figma"></i>Figma Prototype</a>
      <a href="#" class="btn btn-outline"><i class="fab fa-github"></i>GitHub Repo</a>
    </div>
  </section>

  <script>
    // 導航欄滾動效果（原樣）
    window.addEventListener('scroll', function() {
      const navbar = document.querySelector('.navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });

    // 載入時：設定標題 / 進場動畫 / 返回
    document.addEventListener('DOMContentLoaded', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const projectName = urlParams.get('project');
      const techTags = urlParams.get('tech');

      if (projectName) {
        document.getElementById('projectTitle').textContent = projectName;
        document.title = `${projectName} - 專案詳細資訊 - 余亮廷 Kenny Yu`;
        
        // 動態載入專案內容
        loadProjectContent(projectName);
      }

      // 如果有技術標籤，則顯示在技術堆疊區塊
      if (techTags) {
        const techTagsArray = techTags.split(',');
        const techTagsContainer = document.querySelector('.tech-tags');
        if (techTagsContainer) {
          techTagsContainer.innerHTML = '';
          techTagsArray.forEach(tag => {
            const techTag = document.createElement('span');
            techTag.className = 'tech-tag';
            techTag.textContent = tag.trim();
            techTagsContainer.appendChild(techTag);
          });
        }
      }

      // 觸發進場淡入
      setTimeout(() => {
        const fadeInOverlay = document.querySelector('.page-fade-in-overlay');
        if (fadeInOverlay) fadeInOverlay.classList.add('fade-in');
      }, 100);

      // 返回首頁
      const backBtn = document.getElementById('backBtn');
      if (backBtn) {
        backBtn.addEventListener('click', function(e) {
          e.preventDefault();
          fadeOutAndReturn();
        });
      }
    });

    // 專案名稱到資料夾名稱的映射
    const projectFolderMap = {
      '跳蛙公車2.0': 'Bus',
      '跳蛙公車': 'Bus',
      '跳蛙購票APP': 'Bus',
      'Bus': 'Bus',
      '今皓TUAN AI助理APP': 'Tuan',
      '今皓AI APP': 'Tuan',
      'Tuan': 'Tuan',
      '島嶼生吐司 手持POS': 'POS',
      '島嶼生吐司 POS': 'POS',
      'POS': 'POS',
      'JustAI 客服系統': 'Justai',
      'Justai': 'Justai',
      'Mino 待辦清單': 'Mino',
      'Mino': 'Mino',
      'MIsh 個人書櫃': 'MIsh',
      'MIsh': 'MIsh'
    };

    // 動態載入專案內容
    function loadProjectContent(projectName) {
      // 根據專案名稱獲取對應的資料夾名稱
      const folderName = projectFolderMap[projectName] || projectName;
      console.log('專案名稱:', projectName, '資料夾名稱:', folderName);
      
      // 載入專案描述
      fetch(`documents/profolio source/${folderName}/description.txt`)
        .then(response => {
          if (response.ok) {
            return response.text();
          } else {
            // 如果檔案不存在，顯示預設內容
            return '（一句話：這個產品幫助【對象】在【情境】中更快/更順地【動作】）';
          }
        })
        .then(description => {
          const projectDescription = document.getElementById('projectDescription');
          if (projectDescription) {
            // 處理文字檔中的標記語法：**文字** → <span class="highlight">文字</span>
            const highlightedDescription = description.replace(
              /\*\*(.*?)\*\*/g, 
              '<span class="highlight">$1</span>'
            );
            projectDescription.innerHTML = highlightedDescription;
          }
        })
        .catch(error => {
          console.log('載入描述檔案失敗，使用預設內容');
          const projectDescription = document.getElementById('projectDescription');
          if (projectDescription) {
            projectDescription.textContent = '（一句話：這個產品幫助【對象】在【情境】中更快/更順地【動作】）';
          }
        });

      // 載入專案詳細圖片
      const detailImage = document.getElementById('projectDetailImage');
      if (detailImage) {
        const imagePath = `documents/profolio source/${folderName}/detailcover.png`;
        detailImage.src = imagePath;
        detailImage.alt = `${projectName}專案圖片`;
        
        // 圖片載入失敗時顯示佔位符
        detailImage.onerror = function() {
          this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIExvYWRpbmcuLi48L3RleHQ+Cjwvc3ZnPg==';
          this.alt = '圖片載入中...';
        };
      }
    }

    // 返回首頁的淡出動畫
    function fadeOutAndReturn() {
      const fadeOverlay = document.createElement('div');
      fadeOverlay.className = 'page-fade-overlay';
      document.body.appendChild(fadeOverlay);
      setTimeout(() => {
        fadeOverlay.classList.add('fade-out');
        setTimeout(() => {
          window.location.href = 'index.html#projects';
        }, 500);
      }, 50);
    }
  </script>
</body>
</html>